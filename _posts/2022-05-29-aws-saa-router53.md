---
title: "[AWS-SAA] Router53"
last_modified_at: 2022-05-29T16:01:04-04:00
categories:
  - AWS-SAA
tags:
  - update
toc: true
toc_label: "AWS-SAA"
---

## 1. Router53 이란
- 높은 가용성과 확장성이 뛰어난 클라우드 Domain Name System (DNS) 웹 서비스
- 최종 사용자를 인터넷 애플리케이션으로 라우팅할 수 있는 매우 안정적이고 비용 효율적인 방법을 개발자와 기업에 제공하기 위해 설계됨

## 2. Router53 특징
- 사용자의 요청을 Amazon EC2 인스턴스, Elastic Load Balancing 로드 밸런서, Amazon S3 버킷 등 AWS에서 실행되는 인프라에 효과적으로 연결
- 트래픽 흐름을 사용하면 지연 시간 기반 라우팅, 지역 DNS, 지역 근접성, 가중치 기반 라운드 로빈을 비롯하여 다양한 라우팅 유형을 통해 전역적으로 트래픽을 관리
- 트래픽 흐름의 간단한 시각 편집기를 사용하면 단일 AWS 리전에서든 전 세계에 분산된 리전에서든 최종 사용자가 애플리케이션의 엔드포인트에 라우팅되는 방법을 손쉽게 관리

## 3. Router53 레코드 유형
- **A**: 호스트 이름을 IPv4에 매핑
- **AAAA**: 호스트 이름을 IPv6에 매핑
- **CNAME**: 호스트 이름을 다른 호스트 이름에 매핑
- **NS**: 도메인에 대한 트래픽 라우팅 방법 제어

## 4. Router53 TTL(Time To Live)
- DNS에서 받은 IP의 Live캐시 시간. 설정한 시간동안 client에서는 DNS호출없이 캐시된 IP로 호출
- TTL을 높이면 트래픽이 감소하지만 IP변경시 client에서 변경되기까지 높아진 만큼 오래걸림

## 5. Router53 라우팅 정책
- **Simple(단순)**: 일반적으로 단일 값(IP)로 하지만 레코드 안에 여러 값(예: 다중 IP 주소)을 지정할 수는 있음. 도메인에 대해 특정 기능을 수행하는 하나의 리소스만 있는 경우(예: example.com 웹 사이트의 콘텐츠를 제공하는 하나의 웹 서버)에 사용   
![image](/assets/images/router53/simple.png){: width="50%" height="50%"}
- **Failover(가중치)**: 장애 조치 라우팅은 특정 리소스가 정상일 경우 해당 리소스로 트래픽을 라우팅하고 첫 번째 리소스가 비정상일 경우 다른 리소스로 트래픽을 라우팅. 액티브-패시브 장애 조치를 구성하려는 경우에 사용
![image](/assets/images/router53/failover.png){: width="50%" height="50%"}
- **Geolocation(지리 위치)**: 지리적 라우팅을 사용하면 사용자의 지리 위치, 즉 DNS 쿼리가 발생하는 위치를 기반으로 트래픽을 제공하는 리소스를 선택할 수 있음. 예를 들어 유럽에서 발생하는 모든 쿼리를 프랑크푸르트 리전에 위치한 ELB 로드 밸런서로 라우팅. 용자의 위치에 기반하여 트래픽을 라우팅하려는 경우에 사용   
![image](/assets/images/router53/geolocation.png){: width="50%" height="50%"}
- **Geoproximity(지리 근접)**: 지리 근접 라우팅을 사용하여 사용자와 리소스의 지리적 위치를 기반으로 트래픽을 리소스로 라우팅할 수 있음. 또는 바이어스라고 하는 값을 지정하여 해당 리소스로 라우팅하는 트래픽의 양을 늘리거나 줄일 수도 있음. 리소스의 위치를 기반으로 트래픽을 라우팅하고 필요에 따라 한 위치의 리소스에서 다른 위치의 리소스로 트래픽을 보내려는 경우에 사용   
![image](/assets/images/router53/geoproximity.png){: width="50%" height="50%"}
- **Latency(지연 시간)**: 애플리케이션이 여러 AWS 리전에서 호스팅된다면, 사용자들의 요청을 지연 시간이 가장 낮은 AWS 리전에서 처리함으로써 최종 사용자를 위해 성능을 향상. 여러 AWS 리전에 리소스가 있고 왕복 시간이 적은 최상의 지연 시간을 제공하는 리전으로 트래픽을 라우팅하려는 경우에 사용   
![image](/assets/images/router53/latency.png){: width="50%" height="50%"}
- **Multivalue answer(다중 응답)**: DNS 쿼리에 대해 다수의 값(예: 웹 서버의 IP 주소)을 반환하도록 구성할 수 있습니다. 다중값은 거의 모든 레코드에 대해 지정할 수 있지만, 다중값 응답 라우팅을 사용하면 각 리소스의 상태를 확인할 수도 있으므로 Route 53은 정상 리소스의 값만 반환. 이것이 로드 밸런서를 대체하는 것은 아니지만, 다수의 상태 확인 가능한 IP 주소를 반환하는 기능은 DNS를 사용하여 가용성 및 로드 밸런싱을 개선하는 한 방법. Route 53이 DNS 쿼리에 무작위로 선택된 최대 8개의 정상 레코드로 응답하게 하려는 경우에 사용
- **Weighted(가중치 기반)**: 다수의 리소스를 단일 도메인 이름(example.com) 또는 하위 도메인 이름(acme.example.com)과 연결하고 각 리소스로 라우팅되는 트래픽 비율을 선택할 수 있음. 이러한 방식은 로드 밸런싱, 새 버전의 소프트웨어 테스트 등을 비롯한 다양한 목적에 활용. 사용자가 지정하는 비율에 따라 여러 리소스로 트래픽을 라우팅하려는 경우에 사용   
![image](/assets/images/router53/weight.png){: width="50%" height="50%"}